---
// Hero Section - Level Up your C++ powers
import FloatingLanguages from './FloatingLanguages.astro';
---

<section
  class="relative min-h-screen flex items-center justify-center bg-cover bg-center bg-no-repeat"
  style="background-image: url('/assets/section1/background.png');"
>
  <!-- Overlay oscuro para mejorar legibilidad -->
  <div class="absolute inset-0 bg-black/50"></div>

  <!-- Burbujas flotantes de lenguajes -->
  <FloatingLanguages />

  <!-- Contenido -->
  <div class="relative z-10 container mx-auto px-6 py-20 text-center">
    <h1 class="text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-6" data-i18n="section1.title">
      Level Up Your Coding Journey
    </h1>

    <p class="text-lg md:text-xl lg:text-2xl text-gray-200 max-w-3xl mx-auto mb-12" data-i18n="section1.subtitle">
      Join weekly challenges, compete with peers, and climb the leaderboard
    </p>

    <!-- Formulario de email -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-4 max-w-2xl mx-auto">
      <input
        id="email-input"
        type="email"
        placeholder="Enter your email"
        class="w-full sm:flex-1 px-6 py-4 bg-neutral-900/80 border border-neutral-700 rounded-lg text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
      />
      <button
        class="w-full sm:w-auto px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors duration-200"
        data-i18n="section1.button"
      >
        Join Now
      </button>
    </div>
  </div>
</section>

<script>
  import { ui } from '../i18n';

  function updateTranslations() {
    const lang = (localStorage.getItem('language') || 'es') as 'en' | 'es';
    const elements = document.querySelectorAll('[data-i18n]');

    elements.forEach((el) => {
      const key = el.getAttribute('data-i18n');
      if (!key) return;

      const keys = key.split('.');
      let value: any = ui[lang];

      for (const k of keys) {
        value = value?.[k];
      }

      if (value) {
        el.textContent = value;
      }
    });

    // Update placeholder
    const emailInput = document.getElementById('email-input') as HTMLInputElement;
    if (emailInput) {
      emailInput.placeholder = ui[lang].section1.emailPlaceholder;
    }
  }

  document.addEventListener('DOMContentLoaded', updateTranslations);
</script>
